---
# ZK-Communist Time Liberation Server - Secrets
# Sensitive configuration and credentials

apiVersion: v1
kind: Secret
metadata:
  name: zk-communist-secrets
  namespace: zk-communist
  labels:
    app: zk-communist
    component: secrets
    managed-by: kubernetes
  annotations:
    description: "Sensitive data for ZK-Communist Time Liberation Server"
type: Opaque
data:
  # Device credentials (base64 encoded)
  # Default password for ZKTeco devices - CHANGE IN PRODUCTION
  device-password: ZGVmYXVsdDEyMw==  # "default123" in base64

  # API keys for external integrations (if needed)
  # api-key: <base64-encoded-api-key>

  # Encryption keys for data protection
  encryption-key: <base64-encoded-32-byte-key>

  # Database credentials (if using external logging database)
  # db-password: <base64-encoded-db-password>

  # Monitoring system credentials
  # monitoring-token: <base64-encoded-monitoring-token>

---
# Example: How to create secrets with proper encoding
# kubectl create secret generic zk-communist-secrets \
#   --from-literal=device-password="your-secure-password" \
#   --from-literal=api-key="your-api-key" \
#   --from-literal=encryption-key="$(openssl rand -base64 32)" \
#   --namespace=zk-communist

---
# TLS certificates for HTTPS metrics (optional)
apiVersion: v1
kind: Secret
metadata:
  name: zk-communist-tls
  namespace: zk-communist
  labels:
    app: zk-communist
    component: tls-certificates
    managed-by: kubernetes
  annotations:
    description: "TLS certificates for ZK-Communist metrics endpoint"
type: kubernetes.io/tls
data:
  # tls.crt: <base64-encoded-tls-certificate>
  # tls.key: <base64-encoded-tls-private-key>

---
# Service account token for API access (if needed)
apiVersion: v1
kind: Secret
metadata:
  name: zk-communist-service-account-token
  namespace: zk-communist
  annotations:
    kubernetes.io/service-account.name: "zk-communist"
type: kubernetes.io/service-account-token

---
# Monitoring credentials (Prometheus, etc.)
apiVersion: v1
kind: Secret
metadata:
  name: zk-communist-monitoring
  namespace: zk-communist
  labels:
    app: zk-communist
    component: monitoring
  annotations:
    description: "Monitoring system credentials for ZK-Communist"
type: Opaque
data:
  # Prometheus basic auth (if needed)
  # prometheus-username: <base64-encoded-username>
  # prometheus-password: <base64-encoded-password>

  # Alertmanager webhook URL (if using alerts)
  # alertmanager-webhook: <base64-encoded-webhook-url>

---
# Development/Testing secrets (use only in non-production)
apiVersion: v1
kind: Secret
metadata:
  name: zk-communist-dev-secrets
  namespace: zk-communist
  labels:
    app: zk-communist
    component: dev-secrets
    environment: development
  annotations:
    description: "Development secrets for ZK-Communist Time Liberation Server"
type: Opaque
data:
  # Development credentials - NOT FOR PRODUCTION
  device-password: dGVzdDEyMw==  # "test123" in base64
  api-key: ZGV2LWFwaS1rZXk=  # "dev-api-key" in base64
  mock-mode: "true"